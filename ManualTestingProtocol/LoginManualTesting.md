# Auth Testing Protocol
(functionality implemented in the GrinDormsDev branch)

### Create a superuser for yourself to have access to the admin page to clean up users made during testing

### For testing email functionality: ensure you are connected to a hotspot or personal wifi. The Grinnell College wifi currently blocks this functionality. You also need to add the email and app password info to the .env file. 

## Test: Try to get to dashboard without logging in
1. Run the django app, which will navigate you to the index page. 
2. Add “/dashboard” to the URL.
3. Should take you to the login page instead of the dashboard page. 

## Test: Login with no user account creation
1. Run the django app, which will navigate you to the index page. 
2. Click the Sign-in link.
3. Enter a username and password for an account that has not been created yet (ex. Username = “doesnotexist”, Password = “fakepass”).
- Expected result: login page displays a message that says the username/password combination is invalid. 

## Test: Create new user, with Grinnell email and login without verifying
1. Run the django app, which will navigate you to the index page. 
2. Click the register link.
3. Create an account by entering a username=testuser, email=[your email here]@grinnell.edu, and password=TestPassword123. 
4. Try to sign in with the username and password
- You should not be signed in and it should display an error message.

## Test: Verify account and sign-in
1. After the above test, you should have received an email to your grinnell inbox with a link.
2. Click the link and sign in on the page. 
- You should be navigated to the dashboard

## Test: Login with valid username and invalid password
1. Run the django app, which will navigate you to the index page. 
2. Click the Sign-in link.
3. Enter username=testuser, and password=wrongPass.
- Login page should display a message that says the username/password combination is invalid. 



## Test: Logging out
1. Run the django app, which will navigate you to the index page. 
2. Click the Sign-in link.
3. Enter a username and password for the account you just created.
4. Should navigate you to the dashboard page.
5. Click the logout link
6. Should take you to the index page with login and register links
7. Add “/dashboard” to the URL.
8. Should take you to the login page instead of the dashboard page. 

## Test: Closing the browser logs you out
1. Run the django app, which will navigate you to the index page. 
2. Click the Sign-in link.
3. Enter a username and password for the account you just created.
4. Should navigate you to the dashboard page.
5. Close the browser
6. Re-click the link generated by django, which will navigate you to the index page. 
7. Add “/dashboard” to the URL.
8. Should take you to the login page instead of the dashboard page. 

## Test: Password Reset
1. Run the django app, which will navigate you to the index page. 
2. lick the Sign-in link.
3. Click the forgot password link.
4. Enter your grinnell email, used to create the user for previous tests. 
5. Wait for the email in your inbox and click the link.
6. Set a new password=NewPass123.
7. Sign in with the old username and new password. 
8. Should navigate you to the dashboard. 

### Once done with testing, navigate to the /admin url and remove any test users you created from the database. 
